<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶ï½œå…­å¼€ç®±</title><meta name=keywords content="Java,XML,è§£æ,parse,æ•™ç¨‹"><meta name=description content="åœ¨ä½ ä½¿ç”¨ Java ç¼–å†™è½¯ä»¶æ—¶å®ç°æŒä¹…åŒ–é…ç½®ã€‚"><meta name=author content="å…­å¼€ç®±"><link rel=canonical href=https://lkxed.github.io/posts/parsing-xml-java/><link crossorigin=anonymous href=/assets/css/stylesheet.min.09b98575a0a9c52a0dcff6660328188f9365049be8c47253f3072a85d10d82a5.css integrity="sha256-CbmFdaCpxSoNz/ZmAygYj5NlBJvoxHJT8wcqhdENgqU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://lkxed.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lkxed.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lkxed.github.io/favicon-32x32.png><link rel=manifest href=https://lkxed.github.io/site.webmanifest><link rel=apple-touch-icon href=https://lkxed.github.io/apple-touch-icon.png><link rel=mask-icon href=https://lkxed.github.io/safari-pinned-tab.svg><meta name=theme-color content="#f5f5f5" media="(prefers-color-scheme: light)"><meta name=theme-color content="#1d1e20" media="(prefers-color-scheme: dark)"><meta name=msapplication-TileColor content="#ffffff"><noscript><style>.top-link{display:none}</style></noscript><meta name=shenma-site-verification content="0834e815906a93375245a759f409f8b0_1648880760"><meta name=baidu-site-verification content="code-2I1Hg4GETM"><meta name=google-site-verification content="xBkkt93v_nso_R-2aQ-An4rbc_Gi_4rNFi8oBEKDNjc"><meta property="og:title" content="ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶"><meta property="og:description" content="åœ¨ä½ ä½¿ç”¨ Java ç¼–å†™è½¯ä»¶æ—¶å®ç°æŒä¹…åŒ–é…ç½®ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="https://lkxed.github.io/posts/parsing-xml-java/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-22T09:16:56+08:00"><meta property="article:modified_time" content="2022-03-22T09:16:56+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶"><meta name=twitter:description content="åœ¨ä½ ä½¿ç”¨ Java ç¼–å†™è½¯ä»¶æ—¶å®ç°æŒä¹…åŒ–é…ç½®ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ–‡ç« ","item":"https://lkxed.github.io/posts/"},{"@type":"ListItem","position":2,"name":"ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶","item":"https://lkxed.github.io/posts/parsing-xml-java/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶","name":"ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶","description":"åœ¨ä½ ä½¿ç”¨ Java ç¼–å†™è½¯ä»¶æ—¶å®ç°æŒä¹…åŒ–é…ç½®ã€‚","keywords":["Java","XML","è§£æ","parse","æ•™ç¨‹"],"articleBody":" åœ¨ä½ ä½¿ç”¨ Java ç¼–å†™è½¯ä»¶æ—¶å®ç°æŒä¹…åŒ–é…ç½®ã€‚\n å‰è¨€ å½“ä½ ç¼–å†™ä¸€ä¸ªåº”ç”¨æ—¶ï¼Œä½ é€šå¸¸éƒ½ä¼šå¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿå®šåˆ¶åŒ–ä»–ä»¬å’Œåº”ç”¨äº¤äº’çš„æ–¹å¼ï¼Œä»¥åŠåº”ç”¨ä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„æ–¹å¼ã€‚è¿™ç§æ–¹å¼é€šå¸¸è¢«ç§°ä¸º â€œåå¥½preferenceâ€ æˆ–è€… â€œè®¾ç½®settingâ€ï¼Œå®ƒä»¬è¢«ä¿å­˜åœ¨ä¸€ä¸ª â€œåå¥½æ–‡ä»¶â€ æˆ–è€… â€œé…ç½®æ–‡ä»¶â€ ä¸­ï¼Œæœ‰æ—¶ä¹Ÿç›´æ¥ç®€ç§°ä¸º â€œé…ç½®configâ€ã€‚é…ç½®æ–‡ä»¶å¯ä»¥æœ‰å¾ˆå¤šç§æ ¼å¼ï¼ŒåŒ…æ‹¬ INIã€JSONã€YAML å’Œ XMLã€‚æ¯ä¸€ç§ç¼–ç¨‹è¯­è¨€è§£æè¿™äº›æ ¼å¼çš„æ–¹å¼éƒ½ä¸åŒã€‚æœ¬æ–‡ä¸»è¦è®¨è®ºï¼Œå½“ä½ åœ¨ä½¿ç”¨ Java ç¼–ç¨‹è¯­è¨€ æ¥ç¼–å†™è½¯ä»¶æ—¶ï¼Œå®ç°æŒä¹…åŒ–é…ç½®çš„æ–¹å¼ã€‚\né€‰æ‹©ä¸€ä¸ªæ ¼å¼ ç¼–å†™é…ç½®æ–‡ä»¶æ˜¯ä¸€ä»¶ç›¸å½“å¤æ‚çš„äº‹æƒ…ã€‚æˆ‘æ›¾ç»è¯•è¿‡æŠŠé…ç½®é¡¹ä½¿ç”¨é€—å·åˆ†éš”ä¿å­˜åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶é‡Œï¼Œä¹Ÿè¯•è¿‡æŠŠé…ç½®é¡¹ä¿å­˜åœ¨éå¸¸è¯¦ç»†çš„ YAML å’Œ XML ä¸­ã€‚å¯¹äºé…ç½®æ–‡ä»¶æ¥è¯´ï¼Œæœ€é‡è¦æ˜¯è¦æœ‰ä¸€è‡´æ€§å’Œè§„å¾‹æ€§ï¼Œå®ƒä»¬ä½¿ä½ å¯ä»¥ç®€å•å¿«é€Ÿåœ°ç¼–å†™ä»£ç ï¼Œä»é…ç½®æ–‡ä»¶ä¸­è§£æå‡ºæ•°æ®ï¼›åŒæ—¶ï¼Œå½“ç”¨æˆ·å†³å®šè¦åšå‡ºä¿®æ”¹æ—¶ï¼Œå¾ˆæ–¹ä¾¿åœ°ä¿å­˜å’Œæ›´æ–°é…ç½®ã€‚\nç›®å‰æœ‰ å‡ ç§æµè¡Œçš„é…ç½®æ–‡ä»¶æ ¼å¼ ã€‚å¯¹äºå¤§å¤šæ•°å¸¸è§çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼ŒJava éƒ½æœ‰å¯¹åº”çš„åº“libraryã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ XML æ ¼å¼ã€‚å¯¹äºä¸€äº›é¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šé€‰æ‹©ä½¿ç”¨ XMLï¼Œå› ä¸ºå®ƒçš„ä¸€ä¸ªçªå‡ºç‰¹ç‚¹æ˜¯èƒ½å¤Ÿä¸ºåŒ…å«çš„æ•°æ®æä¾›å¤§é‡ç›¸å…³çš„å…ƒæ•°æ®ï¼Œè€Œåœ¨å¦å¤–ä¸€äº›é¡¹ç›®ä¸­ï¼Œä½ å¯èƒ½ä¼šå› ä¸º XML çš„å†—é•¿è€Œä¸é€‰æ‹©å®ƒã€‚åœ¨ Java ä¸­ä½¿ç”¨ XML æ˜¯éå¸¸å®¹æ˜“çš„ï¼Œå› ä¸ºå®ƒé»˜è®¤åŒ…å«äº†è®¸å¤šå¥å£®çš„ XML åº“ã€‚\nXML åŸºç¡€ è®¨è®º XML å¯æ˜¯ä¸€ä¸ªå¤§è¯é¢˜ã€‚æˆ‘æœ‰ä¸€æœ¬å…³äº XML çš„ä¹¦ï¼Œå®ƒæœ‰è¶…è¿‡ 700 é¡µçš„å†…å®¹ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨ XML å¹¶ä¸éœ€è¦éå¸¸äº†è§£å®ƒçš„è¯¸å¤šç‰¹æ€§ã€‚å°±åƒ HTML ä¸€æ ·ï¼ŒXML æ˜¯ä¸€ä¸ªå¸¦æœ‰å¼€å§‹å’Œç»“æŸæ ‡è®°çš„åˆ†å±‚æ ‡è®°è¯­è¨€ï¼Œæ¯ä¸€ä¸ªæ ‡è®°ï¼ˆæ ‡ç­¾ï¼‰å†…å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–æ›´å¤šæ•°æ®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª XML çš„ç®€å•ç¤ºä¾‹ç‰‡æ®µï¼š\n  Penguin   åœ¨è¿™ä¸ª è‡ªæˆ‘æè¿°çš„self-descriptive ä¾‹å­ä¸­ï¼ŒXML è§£æå™¨ä½¿ç”¨äº†ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š\n æ–‡æ¡£Documentï¼š æ ‡ç­¾æ ‡å¿—ç€ä¸€ä¸ª æ–‡æ¡£ çš„å¼€å§‹ï¼Œ æ ‡ç­¾æ ‡å¿—ç€è¿™ä¸ªæ–‡æ¡£çš„ç»“æŸã€‚ èŠ‚ç‚¹Nodeï¼š æ ‡ç­¾ä»£è¡¨äº†ä¸€ä¸ª èŠ‚ç‚¹ã€‚ å…ƒç´ Elementï¼šPenguin ä¸­ï¼Œä»å¼€å¤´çš„  åˆ°æœ€åçš„  è¡¨ç¤ºäº†ä¸€ä¸ª å…ƒç´ ã€‚ å†…å®¹Contentï¼š åœ¨  å…ƒç´ é‡Œï¼Œå­—ç¬¦ä¸² Penguin å°±æ˜¯ å†…å®¹ã€‚  ä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œåªè¦äº†è§£äº†ä»¥ä¸Šå‡ ä¸ªæ¦‚å¿µï¼Œä½ å°±å¯ä»¥å¼€å§‹ç¼–å†™ã€è§£æ XML æ–‡ä»¶äº†ã€‚\nåˆ›å»ºä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶ è¦å­¦ä¹ å¦‚ä½•è§£æ XML æ–‡ä»¶ï¼Œåªéœ€è¦ä¸€ä¸ªæç®€çš„ç¤ºä¾‹æ–‡ä»¶å°±å¤Ÿäº†ã€‚å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œé‡Œé¢ä¿å­˜çš„æ˜¯å…³äºä¸€ä¸ªå›¾å½¢ç•Œé¢çª—å£çš„å±æ€§ï¼š\n  Dark 0 Tango   åˆ›å»ºä¸€ä¸ªåä¸º ~/.config/DemoXMLParser çš„ç›®å½•ï¼š\n$ mkdir ~/.config/DemoXMLParser åœ¨ Linux ä¸­ï¼Œ~/.config ç›®å½•æ˜¯å­˜æ”¾é…ç½®æ–‡ä»¶çš„é»˜è®¤ä½ç½®ï¼Œè¿™æ˜¯åœ¨ è‡ªç”±æ¡Œé¢å·¥ä½œç»„ çš„è§„èŒƒä¸­å®šä¹‰çš„ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªä¸éµå®ˆ è‡ªç”±æ¡Œé¢å·¥ä½œç»„Freedesktop æ ‡å‡†çš„æ“ä½œç³»ç»Ÿï¼Œä½ ä¹Ÿä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªç›®å½•ï¼Œåªä¸è¿‡ä½ éœ€è¦è‡ªå·±åˆ›å»ºè¿™äº›ç›®å½•äº†ã€‚\nå¤åˆ¶ XML çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼Œç²˜è´´å¹¶ä¿å­˜ä¸º ~/.config/DemoXMLParser/myconfig.xml æ–‡ä»¶ã€‚\nä½¿ç”¨ Java è§£æ XML å¦‚æœä½ æ˜¯ Java çš„åˆå­¦è€…ï¼Œä½ å¯ä»¥å…ˆé˜…è¯»æˆ‘å†™çš„ é¢å‘ Java å…¥é—¨å¼€å‘è€…çš„ 7 ä¸ªå°æŠ€å·§ ã€‚ä¸€æ—¦ä½ å¯¹ Java æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œæ‰“å¼€ä½ æœ€å–œçˆ±çš„é›†æˆå¼€å‘å·¥å…·ï¼ˆIDEï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ã€‚æˆ‘ä¼šæŠŠæˆ‘çš„æ–°å·¥ç¨‹å‘½åä¸º myConfigParserã€‚\nåˆšå¼€å§‹å…ˆä¸è¦å¤ªå…³æ³¨ä¾èµ–å¯¼å…¥å’Œå¼‚å¸¸æ•è·è¿™äº›ï¼Œä½ å¯ä»¥å…ˆå°è¯•ç”¨ javax å’Œ java.io åŒ…é‡Œçš„æ ‡å‡† Java æ‰©å±•æ¥å®ä¾‹åŒ–ä¸€ä¸ªè§£æå™¨ã€‚å¦‚æœä½ ä½¿ç”¨äº† IDEï¼Œå®ƒä¼šæç¤ºä½ å¯¼å…¥åˆé€‚çš„ä¾èµ–ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨æ–‡ç« ç¨åçš„éƒ¨åˆ†æ‰¾åˆ°å®Œæ•´çš„ä»£ç ï¼Œé‡Œé¢å°±æœ‰å®Œæ•´çš„ä¾èµ–åˆ—è¡¨ã€‚\nPath configPath = Paths.get(System.getProperty(\"user.home\"), \".config\", \"DemoXMLParser\"); File configFile = new File(configPath.toString(), \"myconfig.xml\"); DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = null; builder = factory.newDocumentBuilder(); Document doc = null; doc = builder.parse(configFile); doc.getDocumentElement().normalize(); è¿™æ®µç¤ºä¾‹ä»£ç ä½¿ç”¨äº† java.nio.Paths ç±»æ¥æ‰¾åˆ°ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œç„¶ååœ¨æ‹¼æ¥ä¸Šé»˜è®¤é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚æ¥ç€ï¼Œå®ƒç”¨ java.io.File ç±»æ¥æŠŠé…ç½®æ–‡ä»¶å®šä¹‰ä¸ºä¸€ä¸ª File å¯¹è±¡ã€‚\nç´§æ¥ç€ï¼Œå®ƒä½¿ç”¨äº† javax.xml.parsers.DocumentBuilder å’Œ javax.xml.parsers.DocumentBuilderFactory è¿™ä¸¤ä¸ªç±»æ¥åˆ›å»ºä¸€ä¸ªå†…éƒ¨çš„æ–‡æ¡£æ„é€ å™¨ï¼Œè¿™æ · Java ç¨‹åºå°±å¯ä»¥å¯¼å…¥å¹¶è§£æ XML æ•°æ®äº†ã€‚\næœ€åï¼ŒJava åˆ›å»ºä¸€ä¸ªå« doc çš„æ–‡æ¡£å¯¹è±¡ï¼Œå¹¶ä¸”æŠŠ configFile æ–‡ä»¶åŠ è½½åˆ°è¿™ä¸ªå¯¹è±¡é‡Œã€‚é€šè¿‡ä½¿ç”¨ org.w3c.dom åŒ…ï¼Œå®ƒè¯»å–å¹¶è§„èŒƒåŒ–äº† XML æ•°æ®ã€‚\nåŸºæœ¬ä¸Šå°±æ˜¯è¿™æ ·å•¦ã€‚ç†è®ºä¸Šæ¥è®²ï¼Œä½ å·²ç»å®Œæˆäº†æ•°æ®è§£æçš„å·¥ä½œã€‚å¯æ˜¯ï¼Œå¦‚æœä½ ä¸èƒ½å¤Ÿè®¿é—®æ•°æ®çš„è¯ï¼Œæ•°æ®è§£æä¹Ÿæ²¡æœ‰å¤šå°‘ç”¨å¤„å˜›ã€‚æ‰€ä»¥ï¼Œå°±è®©æˆ‘ä»¬å†æ¥å†™ä¸€äº›æŸ¥è¯¢ï¼Œä»ä½ çš„é…ç½®ä¸­è¯»å–é‡è¦çš„å±æ€§å€¼å§ã€‚\nä½¿ç”¨ Java è®¿é—® XML çš„å€¼ ä»ä½ å·²ç»è¯»å–çš„ XML æ–‡æ¡£ä¸­è·å–æ•°æ®ï¼Œå…¶å®å°±æ˜¯è¦å…ˆæ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„èŠ‚ç‚¹ï¼Œç„¶åéå†å®ƒåŒ…å«çš„æ‰€æœ‰å…ƒç´ ã€‚é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨å¤šä¸ªå¾ªç¯è¯­å¥æ¥éå†èŠ‚ç‚¹ä¸­çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒä»£ç å¯è¯»æ€§ï¼Œæˆ‘ä¼šå°½å¯èƒ½å°‘åœ°ä½¿ç”¨å¾ªç¯è¯­å¥ï¼š\nNodeList nodes = doc.getElementsByTagName(\"window\"); for (int i = 0; i  nodes.getLength(); i++) { Node mynode = nodes.item(i); System.out.println(\"Property = \" + mynode.getNodeName()); if (mynode.getNodeType() == Node.ELEMENT_NODE) { Element myelement = (Element) mynode; System.out.println(\"Theme = \" + myelement.getElementsByTagName(\"theme\").item(0).getTextContent()); System.out.println(\"Fullscreen = \" + myelement.getElementsByTagName(\"fullscreen\").item(0).getTextContent()); System.out.println(\"Icon set = \" + myelement.getElementsByTagName(\"icons\").item(0).getTextContent()); } } è¿™æ®µç¤ºä¾‹ä»£ç ä½¿ç”¨äº† org.w3c.dom.NodeList ç±»ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º nodes çš„ NodeList å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº†æ‰€æœ‰åå­—åŒ¹é…å­—ç¬¦ä¸² window çš„å­èŠ‚ç‚¹ï¼Œå®é™…ä¸Šè¿™æ ·çš„èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªï¼Œå› ä¸ºæœ¬æ–‡çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ä¸­åªé…ç½®äº†ä¸€ä¸ªã€‚\nç´§æ¥ç€ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ª for å¾ªç¯æ¥éå† nodes åˆ—è¡¨ã€‚å…·ä½“è¿‡ç¨‹æ˜¯ï¼šæ ¹æ®èŠ‚ç‚¹å‡ºç°çš„é¡ºåºé€ä¸ªå–å‡ºï¼Œç„¶åäº¤ç»™ä¸€ä¸ª if-then å­å¥å¤„ç†ã€‚è¿™ä¸ª if-then å­å¥åˆ›å»ºäº†ä¸€ä¸ªåä¸º myelement çš„ Element å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å½“å‰èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å…ƒç´ ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¾‹å¦‚ getChildNodes å’Œ getElementById æ–¹æ³•æ¥æŸ¥è¯¢è¿™äº›å…ƒç´ ï¼Œé¡¹ç›®ä¸­è¿˜ è®°å½•äº† å…¶ä»–æŸ¥è¯¢æ–¹æ³•ã€‚\nåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªå…ƒç´ å°±æ˜¯é…ç½®çš„é”®ã€‚è€Œé…ç½®çš„å€¼å‚¨å­˜åœ¨å…ƒç´ çš„å†…å®¹ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ .getTextContent æ–¹æ³•æ¥æå–å‡ºé…ç½®çš„å€¼ã€‚\nåœ¨ä½ çš„ IDE ä¸­è¿è¡Œä»£ç ï¼ˆæˆ–è€…è¿è¡Œç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼š\n$ java ./DemoXMLParser.java Property = window Theme = Dark Fullscreen = 0 Icon set = Tango ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼š\npackage myConfigParser; import java.io.File; import java.io.IOException; import java.nio.file.Path; import java.nio.file.Paths; import javax.xml.parsers.DocumentBuilder; import javax.xml.parsers.DocumentBuilderFactory; import javax.xml.parsers.ParserConfigurationException; import org.w3c.dom.Document; import org.w3c.dom.Element; import org.w3c.dom.NamedNodeMap; import org.w3c.dom.Node; import org.w3c.dom.NodeList; import org.xml.sax.SAXException; public class ConfigParser { public static void main(String[] args) { Path configPath = Paths.get(System.getProperty(\"user.home\"), \".config\", \"DemoXMLParser\"); File configFile = new File(configPath.toString(), \"myconfig.xml\"); DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = null; try { builder = factory.newDocumentBuilder(); } catch (ParserConfigurationException e) { e.printStackTrace(); } Document doc = null; try { doc = builder.parse(configFile); } catch (SAXException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); } doc.getDocumentElement().normalize(); NodeList nodes = doc.getElementsByTagName(\"window\"); for (int i = 0; i  nodes.getLength(); i++) { Node mynode = nodes.item(i); System.out.println(\"Property = \" + mynode.getNodeName()); if (mynode.getNodeType() == Node.ELEMENT_NODE) { Element myelement = (Element) mynode; System.out.println(\"Theme = \" + myelement.getElementsByTagName(\"theme\").item(0).getTextContent()); System.out.println(\"Fullscreen = \" + myelement.getElementsByTagName(\"fullscreen\").item(0).getTextContent()); System.out.println(\"Icon set = \" + myelement.getElementsByTagName(\"icons\").item(0).getTextContent()); } // close if  } // close for  } // close method } //close class ä½¿ç”¨ Java æ›´æ–° XML ç”¨æˆ·æ—¶ä¸æ—¶åœ°ä¼šæ”¹å˜æŸä¸ªåå¥½é¡¹ï¼Œè¿™æ—¶å€™ org.w3c.dom åº“å°±å¯ä»¥å¸®åŠ©ä½ æ›´æ–°æŸä¸ª XML å…ƒç´ çš„å†…å®¹ã€‚ä½ åªéœ€è¦é€‰æ‹©è¿™ä¸ª XML å…ƒç´ ï¼Œå°±åƒä½ è¯»å–å®ƒæ—¶é‚£æ ·ã€‚ä¸è¿‡ï¼Œæ­¤æ—¶ä½ ä¸å†ä½¿ç”¨ .getTextContent æ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨ .setTextContent æ–¹æ³•ã€‚\nupdatePref = myelement.getElementsByTagName(\"fullscreen\").item(0); updatePref.setTextContent(\"1\"); System.out.println(\"Updated fullscreen to \" + myelement.getElementsByTagName(\"fullscreen\").item(0).getTextContent()); è¿™ä¹ˆåšä¼šæ”¹å˜åº”ç”¨ç¨‹åºå†…å­˜ä¸­çš„ XML æ–‡æ¡£ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æŠŠæ•°æ®å†™å›åˆ°ç£ç›˜ä¸Šã€‚é…åˆä½¿ç”¨ javax å’Œ w3c åº“ï¼Œä½ å°±å¯ä»¥æŠŠè¯»å–åˆ°çš„ XML å†…å®¹å†™å›åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚\nTransformerFactory transformerFactory = TransformerFactory.newInstance(); Transformer xtransform; xtransform = transformerFactory.newTransformer(); DOMSource mydom = new DOMSource(doc); StreamResult streamResult = new StreamResult(configFile); xtransform.transform(mydom, streamResult); è¿™ä¹ˆåšä¼šæ²¡æœ‰è­¦å‘Šåœ°å†™å…¥è½¬æ¢åçš„æ•°æ®ï¼Œå¹¶è¦†ç›–æ‰ä¹‹å‰çš„é…ç½®ã€‚\nä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ï¼ŒåŒ…æ‹¬æ›´æ–° XML çš„æ“ä½œï¼š\npackage myConfigParser; import java.io.File; import java.io.IOException; import java.nio.file.Path; import java.nio.file.Paths; import javax.xml.parsers.DocumentBuilder; import javax.xml.parsers.DocumentBuilderFactory; import javax.xml.parsers.ParserConfigurationException; import javax.xml.transform.Transformer; import javax.xml.transform.TransformerException; import javax.xml.transform.TransformerFactory; import javax.xml.transform.dom.DOMSource; import javax.xml.transform.stream.StreamResult; import org.w3c.dom.Document; import org.w3c.dom.Element; import org.w3c.dom.Node; import org.w3c.dom.NodeList; import org.xml.sax.SAXException; public class ConfigParser { public static void main(String[] args) { Path configPath = Paths.get(System.getProperty(\"user.home\"), \".config\", \"DemoXMLParser\"); File configFile = new File(configPath.toString(), \"myconfig.xml\"); DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = null; try { builder = factory.newDocumentBuilder(); } catch (ParserConfigurationException e) { // TODO Auto-generated catch block  e.printStackTrace(); } Document doc = null; try { doc = builder.parse(configFile); } catch (SAXException e) { // TODO Auto-generated catch block  e.printStackTrace(); } catch (IOException e) { // TODO Auto-generated catch block  e.printStackTrace(); } doc.getDocumentElement().normalize(); Node updatePref = null; // NodeList nodes = doc.getChildNodes();  NodeList nodes = doc.getElementsByTagName(\"window\"); for (int i = 0; i  nodes.getLength(); i++) { Node mynode = nodes.item(i); System.out.println(\"Property = \" + mynode.getNodeName()); if (mynode.getNodeType() == Node.ELEMENT_NODE) { Element myelement = (Element) mynode; System.out.println(\"Theme = \" + myelement.getElementsByTagName(\"theme\").item(0).getTextContent()); System.out.println(\"Fullscreen = \" + myelement.getElementsByTagName(\"fullscreen\").item(0).getTextContent()); System.out.println(\"Icon set = \" + myelement.getElementsByTagName(\"icons\").item(0).getTextContent()); updatePref = myelement.getElementsByTagName(\"fullscreen\").item(0); updatePref.setTextContent(\"2\"); System.out.println(\"Updated fullscreen to \" + myelement.getElementsByTagName(\"fullscreen\").item(0).getTextContent()); } // close if  }// close for  // write DOM back to the file  TransformerFactory transformerFactory = TransformerFactory.newInstance(); Transformer xtransform; DOMSource mydom = new DOMSource(doc); StreamResult streamResult = new StreamResult(configFile); try { xtransform = transformerFactory.newTransformer(); xtransform.transform(mydom, streamResult); } catch (TransformerException e) { e.printStackTrace(); } } // close method } //close class å¦‚ä½•ä¿è¯é…ç½®ä¸å‡ºé—®é¢˜ ç¼–å†™é…ç½®æ–‡ä»¶çœ‹ä¸Šå»æ˜¯ä¸€ä¸ªè¿˜æŒºç®€å•çš„ä»»åŠ¡ã€‚ä¸€å¼€å§‹ï¼Œä½ å¯èƒ½ä¼šç”¨ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ ¼å¼ï¼Œå› ä¸ºä½ çš„åº”ç”¨ç¨‹åºåªè¦å¯¥å¯¥å‡ ä¸ªé…ç½®é¡¹è€Œå·²ã€‚ä½†æ˜¯ï¼Œéšç€ä½ å¼•å…¥äº†æ›´å¤šçš„é…ç½®é¡¹ï¼Œè¯»å–æˆ–è€…å†™å…¥é”™è¯¯çš„æ•°æ®å¯èƒ½ä¼šç»™ä½ çš„åº”ç”¨ç¨‹åºå¸¦æ¥æ„æ–™ä¹‹å¤–çš„é”™è¯¯ã€‚ä¸€ç§å¸®åŠ©ä½ ä¿æŒé…ç½®è¿‡ç¨‹å®‰å…¨ã€ä¸å‡ºé”™çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨ç±»ä¼¼ XML çš„è§„èŒƒæ ¼å¼ï¼Œç„¶åä¾é ä½ ç”¨çš„ç¼–ç¨‹è¯­è¨€çš„å†…ç½®åŠŸèƒ½æ¥å¤„ç†è¿™äº›å¤æ‚çš„äº‹æƒ…ã€‚\nè¿™ä¹Ÿæ­£æ˜¯æˆ‘å–œæ¬¢ä½¿ç”¨ Java å’Œ XML çš„åŸå› ã€‚æ¯å½“æˆ‘è¯•å›¾è¯»å–é”™è¯¯çš„é…ç½®å€¼æ—¶ï¼ŒJava å°±ä¼šæé†’æˆ‘ã€‚é€šå¸¸ï¼Œè¿™æ˜¯ç”±äºæˆ‘åœ¨ä»£ç ä¸­è¯•å›¾è·å–çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸å­˜åœ¨äºæˆ‘æœŸæœ›çš„ XML è·¯å¾„ä¸­ã€‚XML è¿™ç§é«˜åº¦ç»“æ„åŒ–çš„æ ¼å¼å¸®åŠ©äº†ä»£ç ä¿æŒå¯é æ€§ï¼Œè¿™å¯¹ç”¨æˆ·å’Œå¼€å‘è€…æ¥è¯´éƒ½æ˜¯æœ‰å¥½å¤„çš„ã€‚\n  æœ¬æ–‡ä½¿ç”¨ CC BY-SA 4.0 å›½é™…åè®® è¿›è¡Œè®¸å¯ï¼Œæ¬¢è¿éµç…§åè®®è§„å®šè½¬è½½ã€‚\né“¾æ¥ï¼šhttps://lkxed.github.io/posts/parsing-xml-java/ ä½œè€…ï¼šSeth Kenlon / è¯‘è€…ï¼šå…­å¼€ç®± åŸæ–‡ï¼šParsing config files with Java é¦–å‘ï¼šä½¿ç”¨ Java è§£æ XML æ–‡ä»¶ @ Linux ä¸­å›½  ","wordCount":"3141","inLanguage":"zh","datePublished":"2022-03-22T09:16:56+08:00","dateModified":"2022-03-22T09:16:56+08:00","author":{"@type":"Person","name":"å…­å¼€ç®±"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lkxed.github.io/posts/parsing-xml-java/"},"publisher":{"@type":"Organization","name":"å…­å¼€ç®±","logo":{"@type":"ImageObject","url":"https://lkxed.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://lkxed.github.io/ accesskey=h title="å…­å¼€ç®± (Alt + H)"><img src=https://lkxed.github.io/favicon.ico alt=logo aria-label=logo height=30>å…­å¼€ç®±</a></div><ul id=menu><li><a href=https://lkxed.github.io/posts/ title=æ–‡ç« ><span>æ–‡ç« </span></a></li><li><a href=https://lkxed.github.io/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://lkxed.github.io/series/ title=ç³»åˆ—><span>ç³»åˆ—</span></a></li><li><a href=https://lkxed.github.io/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://lkxed.github.io/search/ title="æœç´¢ (Alt + /)" accesskey=/><span>æœç´¢</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶</h1><div class=post-meta><span title="2022-03-22 09:16:56 +0800 CST">2022 å¹´ 3 æœˆ 22 æ—¥</span>&nbsp;Â·&nbsp;3141 å­—&nbsp;Â·&nbsp;å…­å¼€ç®±&nbsp;ï½œ&nbsp;<a href=https://github.com/lkxed/ rel="noopener noreferrer" target=_blank>å…³æ³¨æˆ‘ğŸŒŸ</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=å‰è¨€>å‰è¨€</a></li><li><a href=#%e9%80%89%e6%8b%a9%e4%b8%80%e4%b8%aa%e6%a0%bc%e5%bc%8f aria-label=é€‰æ‹©ä¸€ä¸ªæ ¼å¼>é€‰æ‹©ä¸€ä¸ªæ ¼å¼</a></li><li><a href=#xml-%e5%9f%ba%e7%a1%80 aria-label="XML åŸºç¡€">XML åŸºç¡€</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%a4%ba%e4%be%8b%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 aria-label=åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶>åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶</a></li><li><a href=#%e4%bd%bf%e7%94%a8-java-%e8%a7%a3%e6%9e%90-xml aria-label="ä½¿ç”¨ Java è§£æ XML">ä½¿ç”¨ Java è§£æ XML</a></li><li><a href=#%e4%bd%bf%e7%94%a8-java-%e8%ae%bf%e9%97%ae-xml-%e7%9a%84%e5%80%bc aria-label="ä½¿ç”¨ Java è®¿é—® XML çš„å€¼">ä½¿ç”¨ Java è®¿é—® XML çš„å€¼</a></li><li><a href=#%e4%bd%bf%e7%94%a8-java-%e6%9b%b4%e6%96%b0-xml aria-label="ä½¿ç”¨ Java æ›´æ–° XML">ä½¿ç”¨ Java æ›´æ–° XML</a></li><li><a href=#%e5%a6%82%e4%bd%95%e4%bf%9d%e8%af%81%e9%85%8d%e7%bd%ae%e4%b8%8d%e5%87%ba%e9%97%ae%e9%a2%98 aria-label=å¦‚ä½•ä¿è¯é…ç½®ä¸å‡ºé—®é¢˜>å¦‚ä½•ä¿è¯é…ç½®ä¸å‡ºé—®é¢˜</a></li></ul></div></details></div><div class=post-content><blockquote><p>åœ¨ä½ ä½¿ç”¨ Java ç¼–å†™è½¯ä»¶æ—¶å®ç°æŒä¹…åŒ–é…ç½®ã€‚</p></blockquote><p><img loading=lazy src=https://img.linux.net.cn/data/attachment/album/202203/22/091553wf2gvj20fn4wfgpw.jpg alt></p><h2 id=å‰è¨€>å‰è¨€<a hidden class=anchor aria-hidden=true href=#å‰è¨€>#</a></h2><p>å½“ä½ ç¼–å†™ä¸€ä¸ªåº”ç”¨æ—¶ï¼Œä½ é€šå¸¸éƒ½ä¼šå¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿå®šåˆ¶åŒ–ä»–ä»¬å’Œåº”ç”¨äº¤äº’çš„æ–¹å¼ï¼Œä»¥åŠåº”ç”¨ä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„æ–¹å¼ã€‚è¿™ç§æ–¹å¼é€šå¸¸è¢«ç§°ä¸º â€œ<ruby>åå¥½<rt>preference</rt></ruby>â€ æˆ–è€… â€œ<ruby>è®¾ç½®<rt>setting</rt></ruby>â€ï¼Œå®ƒä»¬è¢«ä¿å­˜åœ¨ä¸€ä¸ª â€œåå¥½æ–‡ä»¶â€ æˆ–è€… â€œé…ç½®æ–‡ä»¶â€ ä¸­ï¼Œæœ‰æ—¶ä¹Ÿç›´æ¥ç®€ç§°ä¸º â€œ<ruby>é…ç½®<rt>config</rt></ruby>â€ã€‚é…ç½®æ–‡ä»¶å¯ä»¥æœ‰å¾ˆå¤šç§æ ¼å¼ï¼ŒåŒ…æ‹¬ INIã€JSONã€YAML å’Œ XMLã€‚æ¯ä¸€ç§ç¼–ç¨‹è¯­è¨€è§£æè¿™äº›æ ¼å¼çš„æ–¹å¼éƒ½ä¸åŒã€‚æœ¬æ–‡ä¸»è¦è®¨è®ºï¼Œå½“ä½ åœ¨ä½¿ç”¨ <a href=https://opensource.com/resources/java target=_blank rel="noopener noreferrer">Java ç¼–ç¨‹è¯­è¨€</a>
æ¥ç¼–å†™è½¯ä»¶æ—¶ï¼Œå®ç°æŒä¹…åŒ–é…ç½®çš„æ–¹å¼ã€‚</p><h2 id=é€‰æ‹©ä¸€ä¸ªæ ¼å¼>é€‰æ‹©ä¸€ä¸ªæ ¼å¼<a hidden class=anchor aria-hidden=true href=#é€‰æ‹©ä¸€ä¸ªæ ¼å¼>#</a></h2><p>ç¼–å†™é…ç½®æ–‡ä»¶æ˜¯ä¸€ä»¶ç›¸å½“å¤æ‚çš„äº‹æƒ…ã€‚æˆ‘æ›¾ç»è¯•è¿‡æŠŠé…ç½®é¡¹ä½¿ç”¨é€—å·åˆ†éš”ä¿å­˜åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶é‡Œï¼Œä¹Ÿè¯•è¿‡æŠŠé…ç½®é¡¹ä¿å­˜åœ¨éå¸¸è¯¦ç»†çš„ YAML å’Œ XML ä¸­ã€‚å¯¹äºé…ç½®æ–‡ä»¶æ¥è¯´ï¼Œæœ€é‡è¦æ˜¯è¦æœ‰ä¸€è‡´æ€§å’Œè§„å¾‹æ€§ï¼Œå®ƒä»¬ä½¿ä½ å¯ä»¥ç®€å•å¿«é€Ÿåœ°ç¼–å†™ä»£ç ï¼Œä»é…ç½®æ–‡ä»¶ä¸­è§£æå‡ºæ•°æ®ï¼›åŒæ—¶ï¼Œå½“ç”¨æˆ·å†³å®šè¦åšå‡ºä¿®æ”¹æ—¶ï¼Œå¾ˆæ–¹ä¾¿åœ°ä¿å­˜å’Œæ›´æ–°é…ç½®ã€‚</p><p>ç›®å‰æœ‰ <a href=https://opensource.com/article/21/6/what-config-files target=_blank rel="noopener noreferrer">å‡ ç§æµè¡Œçš„é…ç½®æ–‡ä»¶æ ¼å¼</a>
ã€‚å¯¹äºå¤§å¤šæ•°å¸¸è§çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼ŒJava éƒ½æœ‰å¯¹åº”çš„<ruby>åº“<rt>library</rt></ruby>ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ XML æ ¼å¼ã€‚å¯¹äºä¸€äº›é¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šé€‰æ‹©ä½¿ç”¨ XMLï¼Œå› ä¸ºå®ƒçš„ä¸€ä¸ªçªå‡ºç‰¹ç‚¹æ˜¯èƒ½å¤Ÿä¸ºåŒ…å«çš„æ•°æ®æä¾›å¤§é‡ç›¸å…³çš„å…ƒæ•°æ®ï¼Œè€Œåœ¨å¦å¤–ä¸€äº›é¡¹ç›®ä¸­ï¼Œä½ å¯èƒ½ä¼šå› ä¸º XML çš„å†—é•¿è€Œä¸é€‰æ‹©å®ƒã€‚åœ¨ Java ä¸­ä½¿ç”¨ XML æ˜¯éå¸¸å®¹æ˜“çš„ï¼Œå› ä¸ºå®ƒé»˜è®¤åŒ…å«äº†è®¸å¤šå¥å£®çš„ XML åº“ã€‚</p><h2 id=xml-åŸºç¡€>XML åŸºç¡€<a hidden class=anchor aria-hidden=true href=#xml-åŸºç¡€>#</a></h2><p>è®¨è®º XML å¯æ˜¯ä¸€ä¸ªå¤§è¯é¢˜ã€‚æˆ‘æœ‰ä¸€æœ¬å…³äº XML çš„ä¹¦ï¼Œå®ƒæœ‰è¶…è¿‡ 700 é¡µçš„å†…å®¹ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨ XML å¹¶ä¸éœ€è¦éå¸¸äº†è§£å®ƒçš„è¯¸å¤šç‰¹æ€§ã€‚å°±åƒ HTML ä¸€æ ·ï¼ŒXML æ˜¯ä¸€ä¸ªå¸¦æœ‰å¼€å§‹å’Œç»“æŸæ ‡è®°çš„åˆ†å±‚æ ‡è®°è¯­è¨€ï¼Œæ¯ä¸€ä¸ªæ ‡è®°ï¼ˆæ ‡ç­¾ï¼‰å†…å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–æ›´å¤šæ•°æ®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª XML çš„ç®€å•ç¤ºä¾‹ç‰‡æ®µï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;xml&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;node&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;element&gt;</span>Penguin<span class=nt>&lt;/element&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/node&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/xml&gt;</span>
</span></span></code></pre></div><p>åœ¨è¿™ä¸ª <ruby>è‡ªæˆ‘æè¿°çš„<rt>self-descriptive</rt></ruby> ä¾‹å­ä¸­ï¼ŒXML è§£æå™¨ä½¿ç”¨äº†ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li><ruby>æ–‡æ¡£<rt>Document</rt></ruby>ï¼š<code>&lt;xml></code> æ ‡ç­¾æ ‡å¿—ç€ä¸€ä¸ª <strong>æ–‡æ¡£</strong> çš„å¼€å§‹ï¼Œ<code>&lt;/xml></code> æ ‡ç­¾æ ‡å¿—ç€è¿™ä¸ªæ–‡æ¡£çš„ç»“æŸã€‚</li><li><ruby>èŠ‚ç‚¹<rt>Node</rt></ruby>ï¼š<code>&lt;node></code> æ ‡ç­¾ä»£è¡¨äº†ä¸€ä¸ª <strong>èŠ‚ç‚¹</strong>ã€‚</li><li><ruby>å…ƒç´ <rt>Element</rt></ruby>ï¼š<code>&lt;element>Penguin&lt;/element></code> ä¸­ï¼Œä»å¼€å¤´çš„ <code>&lt;</code> åˆ°æœ€åçš„ <code>></code> è¡¨ç¤ºäº†ä¸€ä¸ª <strong>å…ƒç´ </strong>ã€‚</li><li><ruby>å†…å®¹<rt>Content</rt></ruby>ï¼š åœ¨ <code>&lt;element></code> å…ƒç´ é‡Œï¼Œå­—ç¬¦ä¸² <code>Penguin</code> å°±æ˜¯ <strong>å†…å®¹</strong>ã€‚</li></ul><p>ä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œåªè¦äº†è§£äº†ä»¥ä¸Šå‡ ä¸ªæ¦‚å¿µï¼Œä½ å°±å¯ä»¥å¼€å§‹ç¼–å†™ã€è§£æ XML æ–‡ä»¶äº†ã€‚</p><h2 id=åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶>åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶>#</a></h2><p>è¦å­¦ä¹ å¦‚ä½•è§£æ XML æ–‡ä»¶ï¼Œåªéœ€è¦ä¸€ä¸ªæç®€çš„ç¤ºä¾‹æ–‡ä»¶å°±å¤Ÿäº†ã€‚å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œé‡Œé¢ä¿å­˜çš„æ˜¯å…³äºä¸€ä¸ªå›¾å½¢ç•Œé¢çª—å£çš„å±æ€§ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;xml&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;window&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;theme&gt;</span>Dark<span class=nt>&lt;/theme&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;fullscreen&gt;</span>0<span class=nt>&lt;/fullscreen&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;icons&gt;</span>Tango<span class=nt>&lt;/icons&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/window&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/xml&gt;</span>
</span></span></code></pre></div><p>åˆ›å»ºä¸€ä¸ªåä¸º <code>~/.config/DemoXMLParser</code> çš„ç›®å½•ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>$</span> <span class=n>mkdir</span> <span class=o>~/.</span><span class=na>config</span><span class=o>/</span><span class=n>DemoXMLParser</span>
</span></span></code></pre></div><p>åœ¨ Linux ä¸­ï¼Œ<code>~/.config</code> ç›®å½•æ˜¯å­˜æ”¾é…ç½®æ–‡ä»¶çš„é»˜è®¤ä½ç½®ï¼Œè¿™æ˜¯åœ¨ <a href=https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html target=_blank rel="noopener noreferrer">è‡ªç”±æ¡Œé¢å·¥ä½œç»„</a>
çš„è§„èŒƒä¸­å®šä¹‰çš„ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªä¸éµå®ˆ <ruby>è‡ªç”±æ¡Œé¢å·¥ä½œç»„<rt>Freedesktop</rt><ruby> æ ‡å‡†çš„æ“ä½œç³»ç»Ÿï¼Œä½ ä¹Ÿä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªç›®å½•ï¼Œåªä¸è¿‡ä½ éœ€è¦è‡ªå·±åˆ›å»ºè¿™äº›ç›®å½•äº†ã€‚</p><p>å¤åˆ¶ XML çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼Œç²˜è´´å¹¶ä¿å­˜ä¸º <code>~/.config/DemoXMLParser/myconfig.xml</code> æ–‡ä»¶ã€‚</p><h2 id=ä½¿ç”¨-java-è§£æ-xml>ä½¿ç”¨ Java è§£æ XML<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨-java-è§£æ-xml>#</a></h2><p>å¦‚æœä½ æ˜¯ Java çš„åˆå­¦è€…ï¼Œä½ å¯ä»¥å…ˆé˜…è¯»æˆ‘å†™çš„ <a href=https://opensource.com/article/19/10/java-basics target=_blank rel="noopener noreferrer">é¢å‘ Java å…¥é—¨å¼€å‘è€…çš„ 7 ä¸ªå°æŠ€å·§</a>
ã€‚ä¸€æ—¦ä½ å¯¹ Java æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œæ‰“å¼€ä½ æœ€å–œçˆ±çš„é›†æˆå¼€å‘å·¥å…·ï¼ˆIDEï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ã€‚æˆ‘ä¼šæŠŠæˆ‘çš„æ–°å·¥ç¨‹å‘½åä¸º <code>myConfigParser</code>ã€‚</p><p>åˆšå¼€å§‹å…ˆä¸è¦å¤ªå…³æ³¨ä¾èµ–å¯¼å…¥å’Œå¼‚å¸¸æ•è·è¿™äº›ï¼Œä½ å¯ä»¥å…ˆå°è¯•ç”¨ <code>javax</code> å’Œ <code>java.io</code> åŒ…é‡Œçš„æ ‡å‡† Java æ‰©å±•æ¥å®ä¾‹åŒ–ä¸€ä¸ªè§£æå™¨ã€‚å¦‚æœä½ ä½¿ç”¨äº† IDEï¼Œå®ƒä¼šæç¤ºä½ å¯¼å…¥åˆé€‚çš„ä¾èµ–ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨æ–‡ç« ç¨åçš„éƒ¨åˆ†æ‰¾åˆ°å®Œæ•´çš„ä»£ç ï¼Œé‡Œé¢å°±æœ‰å®Œæ•´çš„ä¾èµ–åˆ—è¡¨ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Path</span> <span class=n>configPath</span> <span class=o>=</span> <span class=n>Paths</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>getProperty</span><span class=o>(</span><span class=s>&#34;user.home&#34;</span><span class=o>),</span> <span class=s>&#34;.config&#34;</span><span class=o>,</span> <span class=s>&#34;DemoXMLParser&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>File</span> <span class=n>configFile</span> <span class=o>=</span> <span class=k>new</span> <span class=n>File</span><span class=o>(</span><span class=n>configPath</span><span class=o>.</span><span class=na>toString</span><span class=o>(),</span> <span class=s>&#34;myconfig.xml&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>DocumentBuilderFactory</span> <span class=n>factory</span> <span class=o>=</span> <span class=n>DocumentBuilderFactory</span><span class=o>.</span><span class=na>newInstance</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>DocumentBuilder</span> <span class=n>builder</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>builder</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=na>newDocumentBuilder</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Document</span> <span class=n>doc</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>builder</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>configFile</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>doc</span><span class=o>.</span><span class=na>getDocumentElement</span><span class=o>().</span><span class=na>normalize</span><span class=o>();</span>
</span></span></code></pre></div><p>è¿™æ®µç¤ºä¾‹ä»£ç ä½¿ç”¨äº† <code>java.nio.Paths</code> ç±»æ¥æ‰¾åˆ°ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œç„¶ååœ¨æ‹¼æ¥ä¸Šé»˜è®¤é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚æ¥ç€ï¼Œå®ƒç”¨ <code>java.io.File</code> ç±»æ¥æŠŠé…ç½®æ–‡ä»¶å®šä¹‰ä¸ºä¸€ä¸ª <code>File</code> å¯¹è±¡ã€‚</p><p>ç´§æ¥ç€ï¼Œå®ƒä½¿ç”¨äº† <code>javax.xml.parsers.DocumentBuilder</code> å’Œ <code>javax.xml.parsers.DocumentBuilderFactory</code> è¿™ä¸¤ä¸ªç±»æ¥åˆ›å»ºä¸€ä¸ªå†…éƒ¨çš„æ–‡æ¡£æ„é€ å™¨ï¼Œè¿™æ · Java ç¨‹åºå°±å¯ä»¥å¯¼å…¥å¹¶è§£æ XML æ•°æ®äº†ã€‚</p><p>æœ€åï¼ŒJava åˆ›å»ºä¸€ä¸ªå« <code>doc</code> çš„æ–‡æ¡£å¯¹è±¡ï¼Œå¹¶ä¸”æŠŠ <code>configFile</code> æ–‡ä»¶åŠ è½½åˆ°è¿™ä¸ªå¯¹è±¡é‡Œã€‚é€šè¿‡ä½¿ç”¨ <code>org.w3c.dom</code> åŒ…ï¼Œå®ƒè¯»å–å¹¶è§„èŒƒåŒ–äº† XML æ•°æ®ã€‚</p><p>åŸºæœ¬ä¸Šå°±æ˜¯è¿™æ ·å•¦ã€‚ç†è®ºä¸Šæ¥è®²ï¼Œä½ å·²ç»å®Œæˆäº†æ•°æ®è§£æçš„å·¥ä½œã€‚å¯æ˜¯ï¼Œå¦‚æœä½ ä¸èƒ½å¤Ÿè®¿é—®æ•°æ®çš„è¯ï¼Œæ•°æ®è§£æä¹Ÿæ²¡æœ‰å¤šå°‘ç”¨å¤„å˜›ã€‚æ‰€ä»¥ï¼Œå°±è®©æˆ‘ä»¬å†æ¥å†™ä¸€äº›æŸ¥è¯¢ï¼Œä»ä½ çš„é…ç½®ä¸­è¯»å–é‡è¦çš„å±æ€§å€¼å§ã€‚</p><h2 id=ä½¿ç”¨-java-è®¿é—®-xml-çš„å€¼>ä½¿ç”¨ Java è®¿é—® XML çš„å€¼<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨-java-è®¿é—®-xml-çš„å€¼>#</a></h2><p>ä»ä½ å·²ç»è¯»å–çš„ XML æ–‡æ¡£ä¸­è·å–æ•°æ®ï¼Œå…¶å®å°±æ˜¯è¦å…ˆæ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„èŠ‚ç‚¹ï¼Œç„¶åéå†å®ƒåŒ…å«çš„æ‰€æœ‰å…ƒç´ ã€‚é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨å¤šä¸ªå¾ªç¯è¯­å¥æ¥éå†èŠ‚ç‚¹ä¸­çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒä»£ç å¯è¯»æ€§ï¼Œæˆ‘ä¼šå°½å¯èƒ½å°‘åœ°ä½¿ç”¨å¾ªç¯è¯­å¥ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>NodeList</span> <span class=n>nodes</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;window&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nodes</span><span class=o>.</span><span class=na>getLength</span><span class=o>();</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl> <span class=n>Node</span> <span class=n>mynode</span> <span class=o>=</span> <span class=n>nodes</span><span class=o>.</span><span class=na>item</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
</span></span><span class=line><span class=cl> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Property = &#34;</span> <span class=o>+</span> <span class=n>mynode</span><span class=o>.</span><span class=na>getNodeName</span><span class=o>());</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl> <span class=k>if</span> <span class=o>(</span><span class=n>mynode</span><span class=o>.</span><span class=na>getNodeType</span><span class=o>()</span> <span class=o>==</span> <span class=n>Node</span><span class=o>.</span><span class=na>ELEMENT_NODE</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>   <span class=n>Element</span> <span class=n>myelement</span> <span class=o>=</span> <span class=o>(</span><span class=n>Element</span><span class=o>)</span> <span class=n>mynode</span><span class=o>;</span>
</span></span><span class=line><span class=cl>             
</span></span><span class=line><span class=cl>   <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Theme = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;theme&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>   <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Fullscreen = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>   <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Icon set = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;icons&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>è¿™æ®µç¤ºä¾‹ä»£ç ä½¿ç”¨äº† <code>org.w3c.dom.NodeList</code> ç±»ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>nodes</code> çš„ <code>NodeList</code> å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº†æ‰€æœ‰åå­—åŒ¹é…å­—ç¬¦ä¸² <code>window</code> çš„å­èŠ‚ç‚¹ï¼Œå®é™…ä¸Šè¿™æ ·çš„èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªï¼Œå› ä¸ºæœ¬æ–‡çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ä¸­åªé…ç½®äº†ä¸€ä¸ªã€‚</p><p>ç´§æ¥ç€ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ª <code>for</code> å¾ªç¯æ¥éå† <code>nodes</code> åˆ—è¡¨ã€‚å…·ä½“è¿‡ç¨‹æ˜¯ï¼šæ ¹æ®èŠ‚ç‚¹å‡ºç°çš„é¡ºåºé€ä¸ªå–å‡ºï¼Œç„¶åäº¤ç»™ä¸€ä¸ª <code>if-then</code> å­å¥å¤„ç†ã€‚è¿™ä¸ª <code>if-then</code> å­å¥åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>myelement</code> çš„ <code>Element</code> å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å½“å‰èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å…ƒç´ ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¾‹å¦‚ <code>getChildNodes</code> å’Œ <code>getElementById</code> æ–¹æ³•æ¥æŸ¥è¯¢è¿™äº›å…ƒç´ ï¼Œé¡¹ç›®ä¸­è¿˜ <a href=https://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/Document.html target=_blank rel="noopener noreferrer">è®°å½•äº†</a>
å…¶ä»–æŸ¥è¯¢æ–¹æ³•ã€‚</p><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªå…ƒç´ å°±æ˜¯é…ç½®çš„é”®ã€‚è€Œé…ç½®çš„å€¼å‚¨å­˜åœ¨å…ƒç´ çš„å†…å®¹ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>.getTextContent</code> æ–¹æ³•æ¥æå–å‡ºé…ç½®çš„å€¼ã€‚</p><p>åœ¨ä½ çš„ IDE ä¸­è¿è¡Œä»£ç ï¼ˆæˆ–è€…è¿è¡Œç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ java ./DemoXMLParser.java
</span></span><span class=line><span class=cl><span class=nv>Property</span> <span class=o>=</span> window
</span></span><span class=line><span class=cl><span class=nv>Theme</span> <span class=o>=</span> Dark
</span></span><span class=line><span class=cl><span class=nv>Fullscreen</span> <span class=o>=</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>Icon <span class=nb>set</span> <span class=o>=</span> Tango
</span></span></code></pre></div><p>ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>myConfigParser</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.io.File</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.io.IOException</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.nio.file.Path</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.nio.file.Paths</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.parsers.DocumentBuilder</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.parsers.DocumentBuilderFactory</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.parsers.ParserConfigurationException</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.Document</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.Element</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.NamedNodeMap</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.Node</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.NodeList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.xml.sax.SAXException</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ConfigParser</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>Path</span> <span class=n>configPath</span> <span class=o>=</span> <span class=n>Paths</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>getProperty</span><span class=o>(</span><span class=s>&#34;user.home&#34;</span><span class=o>),</span> <span class=s>&#34;.config&#34;</span><span class=o>,</span> <span class=s>&#34;DemoXMLParser&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>File</span> <span class=n>configFile</span> <span class=o>=</span> <span class=k>new</span> <span class=n>File</span><span class=o>(</span><span class=n>configPath</span><span class=o>.</span><span class=na>toString</span><span class=o>(),</span> <span class=s>&#34;myconfig.xml&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>DocumentBuilderFactory</span> <span class=n>factory</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                <span class=n>DocumentBuilderFactory</span><span class=o>.</span><span class=na>newInstance</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=n>DocumentBuilder</span> <span class=n>builder</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>               
</span></span><span class=line><span class=cl>                <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>builder</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=na>newDocumentBuilder</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>ParserConfigurationException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>                <span class=n>Document</span> <span class=n>doc</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>                <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>doc</span> <span class=o>=</span> <span class=n>builder</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>configFile</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>SAXException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>IOException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>doc</span><span class=o>.</span><span class=na>getDocumentElement</span><span class=o>().</span><span class=na>normalize</span><span class=o>();</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>        <span class=n>NodeList</span> <span class=n>nodes</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;window&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nodes</span><span class=o>.</span><span class=na>getLength</span><span class=o>();</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>           <span class=n>Node</span> <span class=n>mynode</span> <span class=o>=</span> <span class=n>nodes</span><span class=o>.</span><span class=na>item</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
</span></span><span class=line><span class=cl>           <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Property = &#34;</span> <span class=o>+</span> <span class=n>mynode</span><span class=o>.</span><span class=na>getNodeName</span><span class=o>());</span>
</span></span><span class=line><span class=cl>           
</span></span><span class=line><span class=cl>           <span class=k>if</span> <span class=o>(</span><span class=n>mynode</span><span class=o>.</span><span class=na>getNodeType</span><span class=o>()</span> <span class=o>==</span> <span class=n>Node</span><span class=o>.</span><span class=na>ELEMENT_NODE</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>               <span class=n>Element</span> <span class=n>myelement</span> <span class=o>=</span> <span class=o>(</span><span class=n>Element</span><span class=o>)</span> <span class=n>mynode</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Theme = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;theme&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Fullscreen = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Icon set = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;icons&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>           <span class=o>}</span> <span class=c1>// close if
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>}</span> <span class=c1>// close for
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span> <span class=c1>// close method
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span> <span class=c1>//close class
</span></span></span></code></pre></div><h2 id=ä½¿ç”¨-java-æ›´æ–°-xml>ä½¿ç”¨ Java æ›´æ–° XML<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨-java-æ›´æ–°-xml>#</a></h2><p>ç”¨æˆ·æ—¶ä¸æ—¶åœ°ä¼šæ”¹å˜æŸä¸ªåå¥½é¡¹ï¼Œè¿™æ—¶å€™ <code>org.w3c.dom</code> åº“å°±å¯ä»¥å¸®åŠ©ä½ æ›´æ–°æŸä¸ª XML å…ƒç´ çš„å†…å®¹ã€‚ä½ åªéœ€è¦é€‰æ‹©è¿™ä¸ª XML å…ƒç´ ï¼Œå°±åƒä½ è¯»å–å®ƒæ—¶é‚£æ ·ã€‚ä¸è¿‡ï¼Œæ­¤æ—¶ä½ ä¸å†ä½¿ç”¨ <code>.getTextContent</code> æ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>.setTextContent</code> æ–¹æ³•ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>updatePref</span> <span class=o>=</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>updatePref</span><span class=o>.</span><span class=na>setTextContent</span><span class=o>(</span><span class=s>&#34;1&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Updated fullscreen to &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>  
</span></span></code></pre></div><p>è¿™ä¹ˆåšä¼šæ”¹å˜åº”ç”¨ç¨‹åºå†…å­˜ä¸­çš„ XML æ–‡æ¡£ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æŠŠæ•°æ®å†™å›åˆ°ç£ç›˜ä¸Šã€‚é…åˆä½¿ç”¨ <code>javax</code> å’Œ <code>w3c</code> åº“ï¼Œä½ å°±å¯ä»¥æŠŠè¯»å–åˆ°çš„ XML å†…å®¹å†™å›åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>TransformerFactory</span> <span class=n>transformerFactory</span> <span class=o>=</span> <span class=n>TransformerFactory</span><span class=o>.</span><span class=na>newInstance</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Transformer</span> <span class=n>xtransform</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>xtransform</span> <span class=o>=</span> <span class=n>transformerFactory</span><span class=o>.</span><span class=na>newTransformer</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>DOMSource</span> <span class=n>mydom</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DOMSource</span><span class=o>(</span><span class=n>doc</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>StreamResult</span> <span class=n>streamResult</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StreamResult</span><span class=o>(</span><span class=n>configFile</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>xtransform</span><span class=o>.</span><span class=na>transform</span><span class=o>(</span><span class=n>mydom</span><span class=o>,</span> <span class=n>streamResult</span><span class=o>);</span>
</span></span></code></pre></div><p>è¿™ä¹ˆåšä¼šæ²¡æœ‰è­¦å‘Šåœ°å†™å…¥è½¬æ¢åçš„æ•°æ®ï¼Œå¹¶è¦†ç›–æ‰ä¹‹å‰çš„é…ç½®ã€‚</p><p>ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ï¼ŒåŒ…æ‹¬æ›´æ–° XML çš„æ“ä½œï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>myConfigParser</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.io.File</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.io.IOException</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.nio.file.Path</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.nio.file.Paths</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.parsers.DocumentBuilder</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.parsers.DocumentBuilderFactory</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.parsers.ParserConfigurationException</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.transform.Transformer</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.transform.TransformerException</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.transform.TransformerFactory</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.transform.dom.DOMSource</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>javax.xml.transform.stream.StreamResult</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.Document</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.Element</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.Node</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.w3c.dom.NodeList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>org.xml.sax.SAXException</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ConfigParser</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>Path</span> <span class=n>configPath</span> <span class=o>=</span> <span class=n>Paths</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>getProperty</span><span class=o>(</span><span class=s>&#34;user.home&#34;</span><span class=o>),</span> <span class=s>&#34;.config&#34;</span><span class=o>,</span> <span class=s>&#34;DemoXMLParser&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>File</span> <span class=n>configFile</span> <span class=o>=</span> <span class=k>new</span> <span class=n>File</span><span class=o>(</span><span class=n>configPath</span><span class=o>.</span><span class=na>toString</span><span class=o>(),</span> <span class=s>&#34;myconfig.xml&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>DocumentBuilderFactory</span> <span class=n>factory</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                <span class=n>DocumentBuilderFactory</span><span class=o>.</span><span class=na>newInstance</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=n>DocumentBuilder</span> <span class=n>builder</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>               
</span></span><span class=line><span class=cl>                <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>builder</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=na>newDocumentBuilder</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>ParserConfigurationException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=c1>// TODO Auto-generated catch block
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>                <span class=n>Document</span> <span class=n>doc</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>                <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>doc</span> <span class=o>=</span> <span class=n>builder</span><span class=o>.</span><span class=na>parse</span><span class=o>(</span><span class=n>configFile</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>SAXException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=c1>// TODO Auto-generated catch block
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>IOException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=c1>// TODO Auto-generated catch block
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>doc</span><span class=o>.</span><span class=na>getDocumentElement</span><span class=o>().</span><span class=na>normalize</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>Node</span> <span class=n>updatePref</span> <span class=o>=</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=c1>//        NodeList nodes = doc.getChildNodes();
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>NodeList</span> <span class=n>nodes</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;window&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nodes</span><span class=o>.</span><span class=na>getLength</span><span class=o>();</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>           <span class=n>Node</span> <span class=n>mynode</span> <span class=o>=</span> <span class=n>nodes</span><span class=o>.</span><span class=na>item</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
</span></span><span class=line><span class=cl>           <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Property = &#34;</span> <span class=o>+</span> <span class=n>mynode</span><span class=o>.</span><span class=na>getNodeName</span><span class=o>());</span>
</span></span><span class=line><span class=cl>           
</span></span><span class=line><span class=cl>           <span class=k>if</span> <span class=o>(</span><span class=n>mynode</span><span class=o>.</span><span class=na>getNodeType</span><span class=o>()</span> <span class=o>==</span> <span class=n>Node</span><span class=o>.</span><span class=na>ELEMENT_NODE</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>               <span class=n>Element</span> <span class=n>myelement</span> <span class=o>=</span> <span class=o>(</span><span class=n>Element</span><span class=o>)</span> <span class=n>mynode</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Theme = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;theme&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Fullscreen = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Icon set = &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;icons&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>               <span class=n>updatePref</span> <span class=o>=</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>);</span>
</span></span><span class=line><span class=cl>               <span class=n>updatePref</span><span class=o>.</span><span class=na>setTextContent</span><span class=o>(</span><span class=s>&#34;2&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>               <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Updated fullscreen to &#34;</span> <span class=o>+</span> <span class=n>myelement</span><span class=o>.</span><span class=na>getElementsByTagName</span><span class=o>(</span><span class=s>&#34;fullscreen&#34;</span><span class=o>).</span><span class=na>item</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>getTextContent</span><span class=o>());</span>          
</span></span><span class=line><span class=cl>           <span class=o>}</span> <span class=c1>// close if
</span></span></span><span class=line><span class=cl><span class=c1></span>           
</span></span><span class=line><span class=cl>        <span class=o>}</span><span class=c1>// close for
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=c1>// write DOM back to the file
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>TransformerFactory</span> <span class=n>transformerFactory</span> <span class=o>=</span> <span class=n>TransformerFactory</span><span class=o>.</span><span class=na>newInstance</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>Transformer</span> <span class=n>xtransform</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>DOMSource</span> <span class=n>mydom</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DOMSource</span><span class=o>(</span><span class=n>doc</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>StreamResult</span> <span class=n>streamResult</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StreamResult</span><span class=o>(</span><span class=n>configFile</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>xtransform</span> <span class=o>=</span> <span class=n>transformerFactory</span><span class=o>.</span><span class=na>newTransformer</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=n>xtransform</span><span class=o>.</span><span class=na>transform</span><span class=o>(</span><span class=n>mydom</span><span class=o>,</span> <span class=n>streamResult</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>TransformerException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>                       
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=c1>// close method
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span> <span class=c1>//close class
</span></span></span></code></pre></div><h2 id=å¦‚ä½•ä¿è¯é…ç½®ä¸å‡ºé—®é¢˜>å¦‚ä½•ä¿è¯é…ç½®ä¸å‡ºé—®é¢˜<a hidden class=anchor aria-hidden=true href=#å¦‚ä½•ä¿è¯é…ç½®ä¸å‡ºé—®é¢˜>#</a></h2><p>ç¼–å†™é…ç½®æ–‡ä»¶çœ‹ä¸Šå»æ˜¯ä¸€ä¸ªè¿˜æŒºç®€å•çš„ä»»åŠ¡ã€‚ä¸€å¼€å§‹ï¼Œä½ å¯èƒ½ä¼šç”¨ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ ¼å¼ï¼Œå› ä¸ºä½ çš„åº”ç”¨ç¨‹åºåªè¦å¯¥å¯¥å‡ ä¸ªé…ç½®é¡¹è€Œå·²ã€‚ä½†æ˜¯ï¼Œéšç€ä½ å¼•å…¥äº†æ›´å¤šçš„é…ç½®é¡¹ï¼Œè¯»å–æˆ–è€…å†™å…¥é”™è¯¯çš„æ•°æ®å¯èƒ½ä¼šç»™ä½ çš„åº”ç”¨ç¨‹åºå¸¦æ¥æ„æ–™ä¹‹å¤–çš„é”™è¯¯ã€‚ä¸€ç§å¸®åŠ©ä½ ä¿æŒé…ç½®è¿‡ç¨‹å®‰å…¨ã€ä¸å‡ºé”™çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨ç±»ä¼¼ XML çš„è§„èŒƒæ ¼å¼ï¼Œç„¶åä¾é ä½ ç”¨çš„ç¼–ç¨‹è¯­è¨€çš„å†…ç½®åŠŸèƒ½æ¥å¤„ç†è¿™äº›å¤æ‚çš„äº‹æƒ…ã€‚</p><p>è¿™ä¹Ÿæ­£æ˜¯æˆ‘å–œæ¬¢ä½¿ç”¨ Java å’Œ XML çš„åŸå› ã€‚æ¯å½“æˆ‘è¯•å›¾è¯»å–é”™è¯¯çš„é…ç½®å€¼æ—¶ï¼ŒJava å°±ä¼šæé†’æˆ‘ã€‚é€šå¸¸ï¼Œè¿™æ˜¯ç”±äºæˆ‘åœ¨ä»£ç ä¸­è¯•å›¾è·å–çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸å­˜åœ¨äºæˆ‘æœŸæœ›çš„ XML è·¯å¾„ä¸­ã€‚XML è¿™ç§é«˜åº¦ç»“æ„åŒ–çš„æ ¼å¼å¸®åŠ©äº†ä»£ç ä¿æŒå¯é æ€§ï¼Œè¿™å¯¹ç”¨æˆ·å’Œå¼€å‘è€…æ¥è¯´éƒ½æ˜¯æœ‰å¥½å¤„çš„ã€‚</p><hr><blockquote><p>æœ¬æ–‡ä½¿ç”¨ <a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh target=_blank rel="noopener noreferrer">CC BY-SA 4.0 å›½é™…åè®®</a>
è¿›è¡Œè®¸å¯ï¼Œæ¬¢è¿<strong>éµç…§åè®®è§„å®š</strong>è½¬è½½ã€‚<br>é“¾æ¥ï¼š<a href=https://lkxed.github.io/posts/parsing-xml-java/ target=_blank rel="noopener noreferrer">https://lkxed.github.io/posts/parsing-xml-java/</a><br>ä½œè€…ï¼š<a href=https://opensource.com/users/seth target=_blank rel="noopener noreferrer">Seth Kenlon</a>
/ è¯‘è€…ï¼š<a href=https://github.com/lkxed/ target=_blank rel="noopener noreferrer">å…­å¼€ç®±</a><br>åŸæ–‡ï¼š<a href=https://opensource.com/article/21/7/parsing-config-files-java target=_blank rel="noopener noreferrer">Parsing config files with Java</a><br>é¦–å‘ï¼š<a href=https://linux.cn/article-14381-1.html target=_blank rel="noopener noreferrer">ä½¿ç”¨ Java è§£æ XML æ–‡ä»¶</a>
@ <a href=https://linux.cn/ target=_blank rel="noopener noreferrer">Linux ä¸­å›½</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://lkxed.github.io/tags/%E8%AF%91%E6%96%87/>è¯‘æ–‡</a></li><li><a href=https://lkxed.github.io/tags/java/>Java</a></li><li><a href=https://lkxed.github.io/tags/xml/>XML</a></li><li><a href=https://lkxed.github.io/tags/%E6%95%99%E7%A8%8B/>æ•™ç¨‹</a></li></ul><nav class=paginav><a class=prev href=https://lkxed.github.io/posts/open-source-guides-teachers/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>5 ä¸ªæ–¹ä¾¿çš„å¼€æºæŒ‡å—ï¼šä¸ºæ•™å¸ˆè€Œå‡†å¤‡</span></a>
<a class=next href=https://lkxed.github.io/posts/creating-maps-groovy-java/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>Groovy å¯¹æ¯” Javaï¼šåˆ›å»ºå¹¶åˆå§‹åŒ– Map</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=lkxed/lkxed.github.io data-repo-id=R_kgDOHF00eA data-category=Announcements data-category-id=DIC_kwDOHF00eM4COXzh data-mapping=og:title data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><div class=social-icons><a href=https://github.com/lkxed/ target=_blank rel="noopener noreferrer me" title=GitHub><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://space.bilibili.com/88033726/ target=_blank rel="noopener noreferrer me" title=Bilibili><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg"><rect x="1.3333" y="6" width="21.333" height="15.333" rx="4" ry="4"/><path d="m8 12.4v1.2"/><path d="m16 12.4v1.2"/><path d="m5.8853 2.6667L8.552 5.3334"/><path d="m18.115 2.6667-2.6667 2.6667"/></svg></a></div><span>&copy; 2022 <a href=https://lkxed.github.io/>å…­å¼€ç®±</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/lkxed/hugo-PaperMod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="å¤åˆ¶";function s(){e.innerText="å·²å¤åˆ¶ï¼",setTimeout(()=>{e.innerText="å¤åˆ¶"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>