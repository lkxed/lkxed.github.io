<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>五个提升你的 Git 水平的小技巧｜六开箱</title><meta name=keywords content="Git,whatchanged,stash,worktree,cherry-pick,$HOME"><meta name=description content="将这些小技巧运用到你的工作流中，使 Git 发挥更大的作用。"><meta name=author content="六开箱"><link rel=canonical href=https://lkxed.github.io/posts/5-git-commands/><link crossorigin=anonymous href=/assets/css/stylesheet.min.09b98575a0a9c52a0dcff6660328188f9365049be8c47253f3072a85d10d82a5.css integrity="sha256-CbmFdaCpxSoNz/ZmAygYj5NlBJvoxHJT8wcqhdENgqU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://lkxed.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lkxed.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lkxed.github.io/favicon-32x32.png><link rel=manifest href=https://lkxed.github.io/site.webmanifest><link rel=apple-touch-icon href=https://lkxed.github.io/apple-touch-icon.png><link rel=mask-icon href=https://lkxed.github.io/safari-pinned-tab.svg><meta name=theme-color content="#f5f5f5" media="(prefers-color-scheme: light)"><meta name=theme-color content="#1d1e20" media="(prefers-color-scheme: dark)"><meta name=msapplication-TileColor content="#ffffff"><noscript><style>.top-link{display:none}</style></noscript><meta name=shenma-site-verification content="0834e815906a93375245a759f409f8b0_1648880760"><meta name=baidu-site-verification content="code-2I1Hg4GETM"><meta name=google-site-verification content="QWaJU9oM7UFAshQEDkcyAZivnI9b6iIOR59kso4I_QE"><meta property="og:title" content="五个提升你的 Git 水平的小技巧"><meta property="og:description" content="将这些小技巧运用到你的工作流中，使 Git 发挥更大的作用。"><meta property="og:type" content="article"><meta property="og:url" content="https://lkxed.github.io/posts/5-git-commands/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-17T11:06:00+08:00"><meta property="article:modified_time" content="2022-03-17T11:06:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="五个提升你的 Git 水平的小技巧"><meta name=twitter:description content="将这些小技巧运用到你的工作流中，使 Git 发挥更大的作用。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://lkxed.github.io/posts/"},{"@type":"ListItem","position":2,"name":"五个提升你的 Git 水平的小技巧","item":"https://lkxed.github.io/posts/5-git-commands/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"五个提升你的 Git 水平的小技巧","name":"五个提升你的 Git 水平的小技巧","description":"将这些小技巧运用到你的工作流中，使 Git 发挥更大的作用。","keywords":["Git","whatchanged","stash","worktree","cherry-pick","$HOME"],"articleBody":" 将这些小技巧运用到你的工作流中，使 Git 发挥更大的作用。\n 前言 如果你经常使用 Git，你可能会知道它非常有名。它可能是最受欢迎的版本控制方案，它被一些 最大的软件项目 用来 跟踪文件变更 。Git 提供了 健壮的界面 来审阅代码、把实验性的变更合并到已经存在的文件中。得益于 Git 钩子 ，它以灵活性而闻名。同时，也因为它的强大，它给人们留下了一个“复杂”的印象。\n五个 Git 小技巧 Git 有诸多特性，你不必全部使用，但是如果你正在深入研究 Git 的 子命令subcommands，我这里倒是有几个，或许你会觉得有用。\n1. 使用 git whatchanged 找到变更 如果你已经熟悉 Git 的基本指令（fetch、add、commit、push、log 等等），但是希望学习更多，那么从 Git 的检索子命令开始是一个简单安全的选择。检索你的 Git 仓库（你的 工作树）并不会做出任何更改，它只是一个报告机制。你不会像使用 git checkout 一样承担数据完整性的风险，你只是在向 Git 请求仓库的当前状态和历史记录而已。\ngit whatchanged 命令（几乎本身就是一个助记符）可以查看哪些文件在某个提交commit中有变更、分别做了什么变更。它是一个简单的、用户友好的命令，因为它把 show、diff-tree 和 log 这三个命令的最佳功能整合到了一个好记的命令中。\n2. 使用 git stash 管理变更 你越多地使用 Git，你就会使用 Git 越多。这就是说，一旦你习惯了 Git 的强大功能，你就会更频繁地使用它。有时，你正在处理一大堆文件，忽然意识到了有更紧急的任务要做。这时，在 git stash 的帮助下，你就可以把所有正在进行的工作收集起来，然后安全地暂存stash它们。当你的工作空间变得整洁有序，你就可以把注意力放到别的任务上，晚些时候再把暂存的文件重新加载到工作树里，继续之前的工作。\n3. 使用 git worktree 来得到链接的副本 当 git stash 不够用的时候，Git 还提供了强大的 git worktree 命令。有了它，你可以新建一个 链接的 仓库副本clone，组成一个新分支，把 HEAD 设置到任意一个提交上，然后基于这个分支开始你的新工作。在这个链接的副本里，你可以进行和主副本完全不同的任务。这是一个避免意外的变更影响当前工作的好办法。当你完成了你的新工作，你可以把新分支推送到远程仓库；也可以把当前的变更归档，晚些时候再处理；还可以从别的工作树中获取它们的变更。无论选择哪一种，你的工作空间之间都会保持相互隔离，任一空间中的变更都不会影响其他空间中的变更，直到你准备好了要合并它们。\n4. 使用 git cherry-pick 来选择合并 这可能听起来很反直觉，但是，你的 Git 水平越高，你可能遇到的合并冲突就会越多。这是因为合并冲突不一定是错误的标志，而是活跃的标志。在学习 Git 中，适应合并时的冲突，并学会如何解决它们是非常重要的。通常的方式或许够用，但是有时候你会需要更加灵活地进行合并，这时候就该 git cherry-pick 出场了。遴选操作允许你选择部分合并提交，这样一来你就不需要因为一些细微的不协调而拒绝整个合并请求了。\n5. 使用 Git 来管理 $HOME 使用 Git 来管理你的主目录从来没有这么简单过，这都要归功于 Git 可以自由选择管理对象的能力，这是一个在多台计算机之间保持同步的现实可行的选项。但是，想要让它工作顺利，你必须非常明智且谨慎才行。如果你想要了解更多，点击阅读我写的关于 使用 Git 来管理 $HOME 的小技巧。\n更好地使用 Git Git 是一个强大的版本控制系统，你使用得越熟练，就可以越轻松地借助它来完成复杂的任务。今天就尝试一些新的 Git 命令吧，欢迎在评论区分享你最喜欢的 Git 命令。\n  转载须知：本文遵循 CC BY-SA 4.0 许可协议 链接：https://lkxed.github.io/posts/5-git-commands/ 作者：Seth Kenlon / 译者：六开箱 原文：5 commands to level-up your Git game 首发：五个提升你的 Git 水平的命令 @ Linux 中国  ","wordCount":"1475","inLanguage":"zh","datePublished":"2022-03-17T11:06:00+08:00","dateModified":"2022-03-17T11:06:00+08:00","author":{"@type":"Person","name":"六开箱"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lkxed.github.io/posts/5-git-commands/"},"publisher":{"@type":"Organization","name":"六开箱","logo":{"@type":"ImageObject","url":"https://lkxed.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://lkxed.github.io/ accesskey=h title="六开箱 (Alt + H)"><img src=https://lkxed.github.io/favicon.ico alt=logo aria-label=logo height=30>六开箱</a></div><ul id=menu><li><a href=https://lkxed.github.io/posts/ title=文章><span>文章</span></a></li><li><a href=https://lkxed.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://lkxed.github.io/series/ title=系列><span>系列</span></a></li><li><a href=https://lkxed.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://lkxed.github.io/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>五个提升你的 Git 水平的小技巧</h1><div class=post-meta><span title="2022-03-17 11:06:00 +0800 CST">2022 年 3 月 17 日</span>&nbsp;·&nbsp;1475 字&nbsp;·&nbsp;六开箱&nbsp;｜&nbsp;<a href=https://github.com/lkxed/ rel="noopener noreferrer" target=_blank>关注我🌟</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#%e4%ba%94%e4%b8%aa-git-%e5%b0%8f%e6%8a%80%e5%b7%a7 aria-label="五个 Git 小技巧">五个 Git 小技巧</a><ul><li><a href=#1-%e4%bd%bf%e7%94%a8-git-whatchanged-%e6%89%be%e5%88%b0%e5%8f%98%e6%9b%b4 aria-label="1. 使用 git whatchanged 找到变更">1. 使用 git whatchanged 找到变更</a></li><li><a href=#2-%e4%bd%bf%e7%94%a8-git-stash-%e7%ae%a1%e7%90%86%e5%8f%98%e6%9b%b4 aria-label="2. 使用 git stash 管理变更">2. 使用 git stash 管理变更</a></li><li><a href=#3-%e4%bd%bf%e7%94%a8-git-worktree-%e6%9d%a5%e5%be%97%e5%88%b0%e9%93%be%e6%8e%a5%e7%9a%84%e5%89%af%e6%9c%ac aria-label="3. 使用 git worktree 来得到链接的副本">3. 使用 git worktree 来得到链接的副本</a></li><li><a href=#4-%e4%bd%bf%e7%94%a8-git-cherry-pick-%e6%9d%a5%e9%80%89%e6%8b%a9%e5%90%88%e5%b9%b6 aria-label="4. 使用 git cherry-pick 来选择合并">4. 使用 git cherry-pick 来选择合并</a></li><li><a href=#5-%e4%bd%bf%e7%94%a8-git-%e6%9d%a5%e7%ae%a1%e7%90%86-home aria-label="5. 使用 Git 来管理 $HOME">5. 使用 Git 来管理 $HOME</a></li></ul></li><li><a href=#%e6%9b%b4%e5%a5%bd%e5%9c%b0%e4%bd%bf%e7%94%a8-git aria-label="更好地使用 Git">更好地使用 Git</a></li></ul></div></details></div><div class=post-content><blockquote><p>将这些小技巧运用到你的工作流中，使 Git 发挥更大的作用。</p></blockquote><p><img loading=lazy src=https://img.linux.net.cn/data/attachment/album/202203/17/110616vti9hhsiiq4misra.jpg alt=1></p><h2 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2><p>如果你经常使用 Git，你可能会知道它非常有名。它可能是最受欢迎的版本控制方案，它被一些 <a href=https://opensource.com/article/19/10/how-gnome-uses-git target=_blank rel="noopener noreferrer">最大的软件项目</a>
用来 <a href=https://opensource.com/article/18/2/how-clone-modify-add-delete-git-files target=_blank rel="noopener noreferrer">跟踪文件变更</a>
。Git 提供了 <a href=https://opensource.com/article/18/5/git-branching target=_blank rel="noopener noreferrer">健壮的界面</a>
来审阅代码、把实验性的变更合并到已经存在的文件中。得益于 <a href=https://opensource.com/life/16/8/how-construct-your-own-git-server-part-6 target=_blank rel="noopener noreferrer">Git 钩子</a>
，它以灵活性而闻名。同时，也因为它的强大，它给人们留下了一个“复杂”的印象。</p><h2 id=五个-git-小技巧>五个 Git 小技巧<a hidden class=anchor aria-hidden=true href=#五个-git-小技巧>#</a></h2><p>Git 有诸多特性，你不必全部使用，但是如果你正在深入研究 Git 的 <ruby>子命令<rt>subcommands</rt></ruby>，我这里倒是有几个，或许你会觉得有用。</p><h3 id=1-使用-git-whatchanged-找到变更>1. 使用 git whatchanged 找到变更<a hidden class=anchor aria-hidden=true href=#1-使用-git-whatchanged-找到变更>#</a></h3><p>如果你已经熟悉 Git 的基本指令（<code>fetch</code>、<code>add</code>、<code>commit</code>、<code>push</code>、<code>log</code> 等等），但是希望学习更多，那么从 Git 的检索子命令开始是一个简单安全的选择。检索你的 Git 仓库（你的 <em>工作树</em>）并不会做出任何更改，它只是一个报告机制。你不会像使用 <code>git checkout</code> 一样承担数据完整性的风险，你只是在向 Git 请求仓库的当前状态和历史记录而已。</p><p><a href=https://opensource.com/article/21/3/git-whatchanged target=_blank rel="noopener noreferrer">git whatchanged</a>
命令（几乎本身就是一个助记符）可以查看哪些文件在某个<ruby>提交<rt>commit</rt></ruby>中有变更、分别做了什么变更。它是一个简单的、用户友好的命令，因为它把 <code>show</code>、<code>diff-tree</code> 和 <code>log</code> 这三个命令的最佳功能整合到了一个好记的命令中。</p><h3 id=2-使用-git-stash-管理变更>2. 使用 git stash 管理变更<a hidden class=anchor aria-hidden=true href=#2-使用-git-stash-管理变更>#</a></h3><p>你越多地使用 Git，你就会使用 Git 越多。这就是说，一旦你习惯了 Git 的强大功能，你就会更频繁地使用它。有时，你正在处理一大堆文件，忽然意识到了有更紧急的任务要做。这时，在 <a href=https://opensource.com/article/21/3/git-stash target=_blank rel="noopener noreferrer">git stash</a>
的帮助下，你就可以把所有正在进行的工作收集起来，然后安全地<ruby>暂存<rt>stash</rt></ruby>它们。当你的工作空间变得整洁有序，你就可以把注意力放到别的任务上，晚些时候再把暂存的文件重新加载到工作树里，继续之前的工作。</p><h3 id=3-使用-git-worktree-来得到链接的副本>3. 使用 git worktree 来得到链接的副本<a hidden class=anchor aria-hidden=true href=#3-使用-git-worktree-来得到链接的副本>#</a></h3><p>当 <code>git stash</code> 不够用的时候，Git 还提供了强大的 <a href=https://opensource.com/article/21/3/git-worktree target=_blank rel="noopener noreferrer">git worktree</a>
命令。有了它，你可以新建一个 <em>链接的</em> 仓库<ruby>副本<rt>clone</rt></ruby>，组成一个新分支，把 <code>HEAD</code> 设置到任意一个提交上，然后基于这个分支开始你的新工作。在这个链接的副本里，你可以进行和主副本完全不同的任务。这是一个避免意外的变更影响当前工作的好办法。当你完成了你的新工作，你可以把新分支推送到远程仓库；也可以把当前的变更归档，晚些时候再处理；还可以从别的工作树中获取它们的变更。无论选择哪一种，你的工作空间之间都会保持相互隔离，任一空间中的变更都不会影响其他空间中的变更，直到你准备好了要合并它们。</p><h3 id=4-使用-git-cherry-pick-来选择合并>4. 使用 git cherry-pick 来选择合并<a hidden class=anchor aria-hidden=true href=#4-使用-git-cherry-pick-来选择合并>#</a></h3><p>这可能听起来很反直觉，但是，你的 Git 水平越高，你可能遇到的合并冲突就会越多。这是因为合并冲突不一定是错误的标志，而是活跃的标志。在学习 Git 中，适应合并时的冲突，并学会如何解决它们是非常重要的。通常的方式或许够用，但是有时候你会需要更加灵活地进行合并，这时候就该 <a href=https://opensource.com/article/21/3/reasons-use-cherry-picking target=_blank rel="noopener noreferrer">git cherry-pick</a>
出场了。遴选操作允许你选择部分合并提交，这样一来你就不需要因为一些细微的不协调而拒绝整个合并请求了。</p><h3 id=5-使用-git-来管理-home>5. 使用 Git 来管理 $HOME<a hidden class=anchor aria-hidden=true href=#5-使用-git-来管理-home>#</a></h3><p>使用 Git 来管理你的主目录从来没有这么简单过，这都要归功于 Git 可以自由选择管理对象的能力，这是一个在多台计算机之间保持同步的现实可行的选项。但是，想要让它工作顺利，你必须非常明智且谨慎才行。如果你想要了解更多，点击阅读我写的关于 <a href=https://opensource.com/article/21/3/git-your-home target=_blank rel="noopener noreferrer">使用 Git 来管理 $HOME</a>
的小技巧。</p><h2 id=更好地使用-git>更好地使用 Git<a hidden class=anchor aria-hidden=true href=#更好地使用-git>#</a></h2><p>Git 是一个强大的版本控制系统，你使用得越熟练，就可以越轻松地借助它来完成复杂的任务。今天就尝试一些新的 Git 命令吧，欢迎在评论区分享你最喜欢的 Git 命令。</p><hr><blockquote><p>转载须知：本文遵循 <a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh target=_blank rel="noopener noreferrer">CC BY-SA 4.0 许可协议</a><br>链接：<a href=https://lkxed.github.io/posts/5-git-commands/ target=_blank rel="noopener noreferrer">https://lkxed.github.io/posts/5-git-commands/</a><br>作者：<a href=https://opensource.com/users/seth target=_blank rel="noopener noreferrer">Seth Kenlon</a>
/ 译者：<a href=https://github.com/lkxed/ target=_blank rel="noopener noreferrer">六开箱</a><br>原文：<a href=https://opensource.com/article/21/4/git-commands target=_blank rel="noopener noreferrer">5 commands to level-up your Git game</a><br>首发：<a href=https://linux.cn/article-14364-1.html target=_blank rel="noopener noreferrer">五个提升你的 Git 水平的命令</a>
@ <a href=https://linux.cn/ target=_blank rel="noopener noreferrer">Linux 中国</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://lkxed.github.io/tags/%E8%AF%91%E6%96%87/>译文</a></li><li><a href=https://lkxed.github.io/tags/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/>开源软件</a></li><li><a href=https://lkxed.github.io/tags/git/>Git</a></li><li><a href=https://lkxed.github.io/tags/%E6%95%99%E7%A8%8B/>教程</a></li></ul><nav class=paginav><a class=prev href=https://lkxed.github.io/posts/uninstall-chrome-from-ubuntu/><span class=title>« 上一页</span><br><span>如何从 Ubuntu 中彻底卸载 Google Chrome</span></a>
<a class=next href=https://lkxed.github.io/posts/kafka-perf-test-scripts/><span class=title>下一页 »</span><br><span>Kafka 性能测试脚本：简介与使用</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=lkxed/lkxed.github.io data-repo-id=R_kgDOHF00eA data-category=Announcements data-category-id=DIC_kwDOHF00eM4COXzh data-mapping=og:title data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><div class=social-icons><a href=https://github.com/lkxed/ target=_blank rel="noopener noreferrer me" title=GitHub><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://space.bilibili.com/88033726/ target=_blank rel="noopener noreferrer me" title=Bilibili><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg"><rect x="1.3333" y="6" width="21.333" height="15.333" rx="4" ry="4"/><path d="m8 12.4v1.2"/><path d="m16 12.4v1.2"/><path d="m5.8853 2.6667L8.552 5.3334"/><path d="m18.115 2.6667-2.6667 2.6667"/></svg></a></div><span>&copy; 2022 <a href=https://lkxed.github.io/>六开箱</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/lkxed/hugo-PaperMod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="复制";function s(){e.innerText="已复制！",setTimeout(()=>{e.innerText="复制"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>